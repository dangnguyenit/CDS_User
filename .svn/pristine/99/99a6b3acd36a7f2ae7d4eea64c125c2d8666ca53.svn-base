= javascript_include_tag "views/users/scroll_down"
- unless @slot_assesses.empty?
  - @competencies.each do |c|
    .widget
      .widget-head.poiter_cursor{onclick: "UserPA.slide(#{c.id})", style: "color: #4a8bc2;"}
        %h4.heading.strong
          .slot_number{id: "slot_competency_#{c.id}", style: "color: #346c9b"}
            = c.name
          
      .widget-body.competencies{id: "competency_#{c.id}"}
        .row
          - @slot_assesses.each do |sa|
            - if sa.slot.level.competency.name.eql?(c.name)
              .col-md-6.col-sm-12
                .widget.widget-heading-simple.widget-body-white
                  .widget-body.show_details{onclick: "UserPA.show_pop_up_slot_details(this, \"#{sa.slot.guideline}\");","data-container" => "body", "data-toggle"=>"popover", "data-container" => "body"}
                    .row
                      .col-md-2
                        .picture
                          %img.center.img-responsive.img-clean{style: "width: 50px; height: 50px", src: "/assets/img/images.jpg" }
                      .col-md-4
                        .name
                          = sa.slot.name
                        %strong
                          = sa.slot.level.competency.name
                      .col-md-6
                        - if sa.value
                          - max_score = @scoring_scale.scorings.order("id").last.score
                          - @scoring_scale.scorings.each do |s|
                            - if s.score.eql?(sa.value)
                              - if sa.value.to_i >= 3
                                .content{style: "color: green; float:right; text-align: right;"}
                                  #score
                                    .scoring_description
                                      = s.description
                                    .scoring
                                      = sa.value
                                      \/
                                      = max_score
                                      = t('users.user_all_slots.passed')
                              - else
                                .content{style: "color: red; float:right; text-align: right;"}
                                  #score
                                    .scoring_description
                                      = s.description
                                    .scoring
                                      = sa.value
                                      \/
                                      = max_score
                                      = t('users.user_all_slots.not_passed')
                        - else
                          .right-algin-content
                            %b
                              %i
                                = sa.status
                    .row
                      #description.col-md-8.col-sm-6.col-xs-12
                        %u
                          Description:
                        - unless sa.slot.description.eql?""
                          = sa.slot.description
                        - else
                          = t('users.user_all_slots.na')
                      - if sa.status.eql?("Not Added Yet")
                        .col-md-4.col-sm-6.col-xs-12
                          %button.right-algin-content.btn.btn-icon.btn-default.glyphicons.plus{type: 'button', onclick: "UserPA.remove_recently_add_evidence(this, #{sa.id})"}
                            = t('users.user_all_slots.add_to_carrer_path')
                            %i            
= render 'slot_detail'
